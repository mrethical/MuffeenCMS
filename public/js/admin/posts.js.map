{"version":3,"sources":["posts.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"posts.js","sourcesContent":["\nfunction refreshTable(html) {\n    $('div#table-container').empty();\n    $('div#table-container').append(html);\n}\n\nfunction reloadTable() {\n    var success = function (result) {\n        refreshTable(result);\n        generatePagination();\n    }\n    callback('GET', 'admin/posts', 'html', {output: 'table'}, success);\n}\n\nfunction generatePagination() {\n    var count = $('input#total-record').val();\n    var limit = 10;\n    $('.pagination').pagination({\n        items: count,\n        itemsOnPage: limit,\n        onPageClick: function(pageNumber){\n            $('.pagination').pagination('disable');\n            var success = function(result){\n                refreshTable(result);\n                $('.pagination').pagination('enable');\n            }\n            callback('GET', 'admin/posts', 'html', {output: 'table', limit: limit, offset: (pageNumber - 1) * limit }, success);\n        }\n    });\n}\n\n$(function() {\n    $('#modal-post-delete').on('show.bs.modal', function (event) {\n        var button = $(event.relatedTarget);\n        var id = button.data('id');\n        $('#modal-post-delete-submit').click(function() {\n            $('#modal-post-delete').modal('hide');\n            var data = {\n                _token: $('input#post-token').val(),\n                _method: 'DELETE'\n            };\n            var success = function(result){\n                if (result.success){\n                    reloadTable();\n                }\n            }\n            callback('POST', 'admin/posts/' + id, 'json', data, success);\n        });\n    })\n\n    generatePagination();\n\n    $(document).on(\"keypress\", \"form\", function(event) {\n        return event.keyCode != 13;\n    });\n\n});\n"]}