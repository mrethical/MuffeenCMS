{"version":3,"sources":["users.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"users.js","sourcesContent":["\r\nfunction refreshTable(html) {\r\n    $('div#table-container').empty();\r\n    $('div#table-container').append(html);\r\n}\r\n\r\nfunction reloadTable() {\r\n    var success = function (result) {\r\n        refreshTable(result);\r\n        generatePagination();\r\n    }\r\n    callback('GET', 'admin/users', 'html', {output: 'table'}, success);\r\n}\r\n\r\nfunction generatePagination() {\r\n    var count = $('input#total-record').val();\r\n    var limit = 10;\r\n    $('.pagination').pagination({\r\n        items: count,\r\n        itemsOnPage: limit,\r\n        onPageClick: function(pageNumber){\r\n            $('.pagination').pagination('disable');\r\n            var success = function(result){\r\n                refreshTable(result);\r\n                $('.pagination').pagination('enable');\r\n            }\r\n            callback('GET', 'admin/users', 'html', {output: 'table', limit: limit, offset: (pageNumber - 1) * limit }, success);\r\n        }\r\n    });\r\n}\r\n\r\n$(function() {\r\n     $('#modal-user-delete').on('show.bs.modal', function (event) {\r\n        var button = $(event.relatedTarget);\r\n        var id = button.data('id');\r\n        $('#modal-user-delete-submit').click(function() {\r\n            $('#modal-user-delete').modal('hide');\r\n            var data = {\r\n                _token: $('input#user-token').val(),\r\n                _method: 'DELETE'\r\n            };\r\n            var success = function(result){\r\n                if (result.success){\r\n                    reloadTable();\r\n                }\r\n            }\r\n            callback('POST', 'admin/users/' + id, 'json', data, success);\r\n        });\r\n    })\r\n\r\n    generatePagination();\r\n\r\n    $(document).on(\"keypress\", \"form\", function(event) {\r\n        return event.keyCode != 13;\r\n    });\r\n\r\n});\r\n"]}